from flask import Flask, render_template, session, redirect, url_for

app = Flask(__name__)
app.secret_key = 'sua_chave_secreta_aqui'  # Troque para algo seguro

# Função simulada para pegar previsões e histórico — substitua depois pela lógica real
def pegar_dados_roleta():
    previsoes = {
        'labels': ['7', '22', '15', '3', '18'],
        'probabilidades': [25, 20, 18, 15, 12]
    }
    historico = {
        'labels': ['1', '3', '7', '10', '15', '18', '22', '25', '28', '32'],
        'frequencias': [4, 6, 8, 3, 5, 7, 6, 2, 1, 3]
    }
    return previsoes, historico

@app.route('/dashboard')
def dashboard():
    if not session.get('user_logged_in'):
        return redirect(url_for('login'))  # Protege a página para quem não está logado

    previsoes, historico = pegar_dados_roleta()

    return render_template('dashboard.html', 
                           previsoes=previsoes,
                           historico=historico)
